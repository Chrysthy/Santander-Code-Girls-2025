# Amazon SNS (Simple Notification Service)

### O que Ã©

- ServiÃ§o da AWS para **envio de mensagens e notificaÃ§Ãµes** de forma rÃ¡pida, escalÃ¡vel e confiÃ¡vel.
- Funciona no modelo **pub/sub (publish/subscribe)**:
    - Um **publisher** (quem envia) publica uma mensagem.
    - Um ou mais **subscribers** (quem recebe) recebem essa mensagem.

---

### Como funciona

1. VocÃª cria um **tÃ³pico** no SNS.
    - O tÃ³pico Ã© como um â€œcanal de mensagensâ€.
2. Diferentes sistemas ou usuÃ¡rios se **inscrevem (subscribe)** nesse tÃ³pico.
    - Pode ser via e-mail, SMS, fila SQS, funÃ§Ã£o Lambda, HTTP endpoint etc.
3. Quando alguÃ©m **publica (publish)** uma mensagem nesse tÃ³pico, o SNS envia a mensagem automaticamente para todos os inscritos.

---

### Protocolos suportados

- **E-mail** â†’ Envia mensagens para caixas de entrada.
- **SMS** â†’ Envia notificaÃ§Ãµes por celular.
- **HTTP/HTTPS** â†’ Envia requisiÃ§Ãµes para endpoints de APIs.
- **AWS Lambda** â†’ Dispara funÃ§Ãµes Lambda automaticamente.
- **Amazon SQS** â†’ Integra com filas para processamento posterior.

---

### Vantagens

- **EscalÃ¡vel**: suporta milhÃµes de mensagens por segundo.
- **ConfiÃ¡vel**: entrega garantida com redundÃ¢ncia.
- **FlexÃ­vel**: vÃ¡rios tipos de assinantes (e-mail, SMS, sistemas, Lambda).
- **Baixo custo**: vocÃª paga por quantidade de mensagens enviadas.

---

### Quando usar

- Para **notificaÃ§Ãµes em massa** (e-mail, SMS).
- Para **disparar eventos automÃ¡ticos** (ex.: upload de arquivo gera alerta).
- Para **integrar sistemas diferentes** usando pub/sub.
- Para **avisos crÃ­ticos** em sistemas (alerta de falha, uso de recursos).

---

### Exemplo simples

ğŸ‘‰ Imagine que vocÃª tem um sistema de pedidos online.

1. Cria um **tÃ³pico SNS** chamado `NovoPedido`.
2. Configura trÃªs assinantes:
    - O e-mail do gerente da loja.
    - Um nÃºmero de celular para SMS.
    - Uma funÃ§Ã£o Lambda que processa o pedido.
3. Quando um cliente faz um pedido, o sistema publica uma mensagem no tÃ³pico `NovoPedido`.
4. O SNS envia automaticamente:
    - Um e-mail para o gerente.
    - Um SMS de notificaÃ§Ã£o.
    - Chama a funÃ§Ã£o Lambda que atualiza o estoque.

---

âœ… **Resumindo:**

O **Amazon SNS** Ã© como uma â€œcentral de alto-falantesâ€ da AWS: vocÃª fala uma vez no microfone (publica no tÃ³pico) e todos que estÃ£o 
conectados (assinantes) recebem a mensagem ao mesmo tempo.



### Tipos de TÃ³picos do SNS

1. **Standard Topics (padrÃ£o)**
    - âœ… **Entrega em alta taxa** (throughput praticamente ilimitado).
    - âœ… **Baixa latÃªncia** (quase em tempo real).
    - âœ… **VÃ¡rios assinantes recebem a mesma mensagem** (fan-out).
    - âŒ **Sem ordenaÃ§Ã£o garantida** (mensagens podem chegar fora de ordem).
    - âŒ **Pode haver duplicaÃ§Ã£o de mensagens**.
        
        ğŸ‘‰ Indicado para notificaÃ§Ãµes em massa, integraÃ§Ãµes fan-out (ex: SNS â†’ SQS â†’ Lambda).
        
2. **FIFO Topics (First-In-First-Out)**
    - âœ… **OrdenaÃ§Ã£o garantida** (mensagens chegam na mesma ordem em que foram publicadas).
    - âœ… **Entrega exatamente uma vez** (sem duplicaÃ§Ãµes).
    - âŒ **Throughput limitado** (mÃ¡x. 300 msgs/s por tÃ³pico, podendo aumentar com batching).
        
        ğŸ‘‰ Indicado para casos onde **ordem e consistÃªncia** sÃ£o essenciais, como transaÃ§Ãµes financeiras, logs de auditoria ou 
        atualizaÃ§Ã£o de estoque.
        

---

**Resumo:**

- **Standard** = mais rÃ¡pido, mais escalÃ¡vel, mas sem ordem garantida.
- **FIFO** = mais confiÃ¡vel em termos de ordem e duplicaÃ§Ã£o, mas com limite de throughput.