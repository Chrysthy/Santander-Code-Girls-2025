üìå Aplicando Pol√≠ticas de Acesso aos Recursos do S3


1Ô∏è‚É£ Tipos de pol√≠ticas

    Bucket Policy

        Aplicada diretamente ao bucket.

        Define quem pode acessar todos os objetos dentro do bucket.

        √ötil para controlar acesso p√∫blico ou de contas espec√≠ficas.


    IAM Policy

        Vinculada a usu√°rios, grupos ou roles do AWS IAM.

        Pode controlar acesso a m√∫ltiplos buckets ou servi√ßos.

        Permite permiss√µes mais detalhadas com base em fun√ß√µes.


    ACL (Access Control List)

        Controla acesso a n√≠vel de objeto ou bucket.

        Hoje √© mais usada para compatibilidade com sistemas antigos; AWS recomenda usar policies.

        Bloquear todo o acesso p√∫blico para evitar vazar dados.



2Ô∏è‚É£ Como aplicar na pr√°tica

    a) Bucket Policy:

    No console AWS S3, selecione o bucket ‚Üí Permissions ‚Üí Bucket Policy.

    Escreva a pol√≠tica em JSON, especificando:

        Effect: Allow ou Deny

        Principal: quem ter√° acesso

        Action: quais a√ß√µes s√£o permitidas (s3:GetObject, s3:PutObject)

        Resource: objeto(s) ou bucket alvo


    Salve a pol√≠tica ‚Üí ela entra em vigor imediatamente.

        Exemplo: permitir leitura de todos os objetos para qualquer usu√°rio:

            {
            "Version": "2012-10-17",
            "Statement": [
                {
                "Effect": "Allow",
                "Principal": "*",
                "Action": "s3:GetObject",
                "Resource": "arn:aws:s3:::meu-bucket/*"
                }
            ]
            }



b) IAM Policy:

    No console AWS, v√° em IAM ‚Üí Users/Groups/Roles ‚Üí Policies ‚Üí Create Policy

    Use o editor visual ou JSON para definir permiss√µes.

    Anexe a policy ao usu√°rio, grupo ou role que precisa de acesso.



c) ACL (menos recomendada):

    Pode ser usada para conceder acesso individual a objetos espec√≠ficos.

    Mais limitada e dif√≠cil de gerenciar em larga escala.



d) Criptografia integrada

    - Server-Side Encryption (SSE): criptografia ao salvar no S3. Tipos:
        - SSE-S3: AWS gerencia a chave automaticamente.
        - SSE-KMS: usa AWS KMS; permite controlar permiss√µes de chaves.
        - SSE-C: voc√™ fornece sua pr√≥pria chave.

    - Client-Side Encryption (CSE): criptografa antes de enviar; S3 armazena j√° criptografado.
    
    - Pol√≠ticas podem exigir criptografia:
        - Ex.: negar upload de objetos n√£o criptografados.
        - Controlar quem pode usar ou gerenciar chaves KMS.




3Ô∏è‚É£ Boas pr√°ticas

    Sempre aplicar o princ√≠pio do menor privil√©gio: d√™ apenas as permiss√µes necess√°rias.

    Evitar buckets p√∫blicos desnecess√°rios.

    Monitorar acessos com CloudTrail ou S3 Access Logs.

    Preferir Bucket + IAM Policy ao inv√©s de ACLs.

    Usar conditions para restringir acesso por IP, hor√°rio ou criptografia.

    Bloquear todo o acesso p√∫blico para evitar vazar dados.



üëâ Resumo r√°pido:
Para proteger recursos no S3, voc√™ aplica pol√≠ticas de acesso (Bucket Policy, IAM Policy ou ACL), definindo quem, o que e onde pode 
acessar. Pol√≠ticas bem aplicadas garantem seguran√ßa, controle e conformidade sem complicar o uso.