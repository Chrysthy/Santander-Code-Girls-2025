# âš¡ OtimizaÃ§Ã£o de Recursos no EC2

Se vocÃª nÃ£o estiver utilizando vocÃª estÃ¡ pagando pela instancia EC2
Sim, estÃ¡ pagando.

Se vocÃª fez o stop na instÃ¢ncia vocÃª estÃ¡ pagando pela instancia EC2
Sim, estÃ¡ pagando.

Se vocÃª fez o stop na instÃ¢ncia, dealocated/desalocou recusro, liberou recurso vocÃª estÃ¡ pagando pela instancia EC2?
NÃ£o estÃ¡ pagando.

âœ¨ **Resumo prÃ¡tico:**

- ğŸš€ **Auto Scaling + Load Balancer** â†’ Performance.
- ğŸ’° **Savings Plans / Reserved / Spot** â†’ Economia.
- ğŸ” **CloudWatch + Compute Optimizer** â†’ Ajuste fino.


### ğŸ”¹ **1. Escolha adequada da instÃ¢ncia**

- Analise a carga de trabalho (CPU, memÃ³ria, disco, rede).
- Use **famÃ­lias corretas** (ex.: `c` para CPU, `r` para memÃ³ria, `i` para I/O).
- Comece com instÃ¢ncias menores e escale conforme necessÃ¡rio.

---

### ğŸ”¹ **2. Elasticidade e Auto Scaling**

- Configure **Auto Scaling Groups** para aumentar/diminuir instÃ¢ncias automaticamente.
- Evita pagar por recursos ociosos.
- Garante alta disponibilidade.

---

### ğŸ”¹ **3. Modelos de compra**

- **On-Demand** â†’ FlexÃ­vel, paga pelo uso (bom para testes ou workloads variÃ¡veis).
- **Reserved Instances (RIs)** â†’ AtÃ© 75% mais barato, indicado para workloads constantes.
- **Savings Plans** â†’ Similar a RIs, mas mais flexÃ­vel (compromisso de 1 ou 3 anos).
- **Spot Instances** â†’ AtÃ© 90% de desconto, mas podem ser interrompidas (Ã³timas para processamento em lote, ML, big data).

---

### ğŸ”¹ **4. OtimizaÃ§Ã£o de armazenamento**

- Use **EBS otimizado** para throughput alto.
- Escolha entre SSD (alta performance) ou HDD (baixo custo).
- FaÃ§a **Snapshots** para backups e limpeza de volumes nÃ£o usados.

---

### ğŸ”¹ **5. OtimizaÃ§Ã£o de rede**

- Habilite **Enhanced Networking (ENA / EFA)** para cargas pesadas de rede.
- Use **Elastic Load Balancer (ELB)** para distribuir trÃ¡fego.
- Aproveite **Amazon CloudFront** para CDN e reduzir latÃªncia.

---

### ğŸ”¹ **6. Monitoramento e ajustes**

- Use **CloudWatch** para monitorar mÃ©tricas de CPU, memÃ³ria, disco e rede.
- Configure **alarmas** para detectar picos ou ociosidade.
- Ajuste instÃ¢ncias ou desligue as nÃ£o utilizadas.

---

### ğŸ”¹ **7. Boas prÃ¡ticas adicionais**

- Use **instÃ¢ncias Spot para jobs nÃ£o crÃ­ticos** e **Reserved para workloads previsÃ­veis**.
- **Right-sizing**: analise relatÃ³rios do **AWS Compute Optimizer** para ajustar instÃ¢ncias superdimensionadas.
- Automatize desligamento de instÃ¢ncias em horÃ¡rios ociosos (dev/teste).

---


# âš–ï¸ Escalabilidade no EC2

### ğŸ”¹ **Escalabilidade Vertical (Vertical Scaling â€“ Scale Up / Scale Down)**

- **O que Ã©:** Aumentar ou diminuir os recursos **da mesma instÃ¢ncia**.
- **Como funciona no EC2:**
    - Trocar o tipo da instÃ¢ncia por um maior (ex.: `t3.micro` â†’ `t3.large`).
    - Ganha mais CPU, memÃ³ria ou I/O em uma Ãºnica mÃ¡quina.
- **Vantagens:**
    
    âœ… Simples de configurar.
    
    âœ… NÃ£o exige alteraÃ§Ãµes na aplicaÃ§Ã£o.
    
- **LimitaÃ§Ãµes:**
    
    âŒ Existe um limite fÃ­sico (nÃ£o dÃ¡ para escalar indefinidamente).
    
    âŒ Se a instÃ¢ncia falhar, a aplicaÃ§Ã£o pode cair.
    

ğŸ“Œ **Exemplo:** Um banco de dados que precisa de mais memÃ³ria â†’ migrar de `r5.large` para `r5.2xlarge`.

---

### ğŸ”¹ **Escalabilidade Horizontal (Horizontal Scaling â€“ Scale Out / Scale In)**

- **O que Ã©:** Adicionar ou remover **mÃºltiplas instÃ¢ncias menores** para dividir a carga.
- **Como funciona no EC2:**
    - Usar **Auto Scaling Groups** para iniciar ou encerrar instÃ¢ncias conforme a demanda.
    - Colocar um **Elastic Load Balancer (ELB)** para distribuir o trÃ¡fego entre instÃ¢ncias.
- **Vantagens:**
    
    âœ… Alta disponibilidade (se uma instÃ¢ncia falhar, outras assumem).
    
    âœ… Escala praticamente ilimitada.
    - **LimitaÃ§Ãµes:**
    
    âŒ Pode exigir que a aplicaÃ§Ã£o seja projetada para rodar em mÃºltiplos servidores.
    
    âŒ Mais complexidade (rede, sincronizaÃ§Ã£o, banco de dados distribuÃ­do).
    

ğŸ“Œ **Exemplo:** Um e-commerce na Black Friday aumenta de 4 para 20 instÃ¢ncias para aguentar o trÃ¡fego.

---

### âœ¨ Resumindo

- **Vertical** â†’ aumentar recursos de **uma mÃ¡quina sÃ³**.
- **Horizontal** â†’ adicionar **mais mÃ¡quinas** e distribuir carga.

As **instÃ¢ncias sob demanda (On-Demand Instances)** sÃ£o o **modelo mais simples e flexÃ­vel de uso do Amazon EC2**.

---

# âš¡ InstÃ¢ncias Sob Demanda (On-Demand Instances)

### ğŸ”¹ **O que sÃ£o**

- VocÃª **paga por hora ou segundo de uso** (dependendo do tipo da instÃ¢ncia).
- **Sem contrato ou compromisso a longo prazo**.
- Pode iniciar, parar e terminar quando quiser.

### ğŸ”¹ **CaracterÃ­sticas principais**

- **Pagamento conforme uso:** vocÃª sÃ³ paga pelo tempo em que a instÃ¢ncia estiver rodando.
- **Flexibilidade total:** pode trocar de tipo de instÃ¢ncia, desligar ou reiniciar quando precisar.
- **Ideal para testes e workloads variÃ¡veis:** sem necessidade de planejamento a longo prazo.
- **Maior custo unitÃ¡rio:** comparado a modelos como **Reserved Instances** ou **Savings Plans**.

---

### ğŸ”¹ **Casos de uso**

âœ… AplicaÃ§Ãµes de **curta duraÃ§Ã£o** ou de uso imprevisÃ­vel.

âœ… **Ambientes de desenvolvimento e teste**, onde vocÃª inicia e para instÃ¢ncias frequentemente.

âœ… Workloads que nÃ£o justificam contrato de longo prazo.

---

### ğŸ”¹ **ComparaÃ§Ã£o rÃ¡pida com outros modelos**

- **On-Demand** â†’ FlexÃ­vel, paga pelo uso. (ğŸ’¸ mais caro por hora)
- **Reserved Instances / Savings Plans** â†’ Mais barato, mas exige compromisso de 1 a 3 anos.
- **Spot Instances** â†’ Muito mais barato, mas podem ser interrompidas pela AWS.

---

ğŸ‘‰ Resumindo: **InstÃ¢ncias Sob Demanda = liberdade total + custo maior.**

As **InstÃ¢ncias Reservadas (Reserved Instances â€“ RIs)** sÃ£o um modelo de compra do **Amazon EC2** que te dÃ¡ **grande desconto em relaÃ§Ã£o Ã s instÃ¢ncias sob demanda**, em troca de um **compromisso de uso por 1 ou 3 anos**.



# ğŸ’¡ InstÃ¢ncias Reservadas (RIs)

### ğŸ”¹ **O que sÃ£o**

- VocÃª â€œreservaâ€ a capacidade de uma instÃ¢ncia EC2 por **1 ou 3 anos**.
- Em troca, recebe um **desconto de atÃ© 72%** comparado ao modelo sob demanda.
- Mais indicado para workloads **constantes e previsÃ­veis**.

---

### ğŸ”¹ **CaracterÃ­sticas principais**

- **Compromisso de longo prazo**: paga mensalmente ou antecipado (1 ou 3 anos).
- **Economia significativa**: atÃ© 72% mais barato.
- **Capacidade garantida** em algumas regiÃµes.
- NÃ£o Ã© um tipo diferente de instÃ¢ncia â†’ Ã© apenas **um modelo de cobranÃ§a**.

---

### ğŸ”¹ **Tipos de RIs**

1. **Standard RIs**
    - Maior desconto (atÃ© 72%).
    - Menos flexÃ­veis (fixa em regiÃ£o, famÃ­lia, tipo e OS).
2. **Convertible RIs**
    - Menos desconto (atÃ© 54%).
    - Mais flexÃ­veis â†’ vocÃª pode mudar instÃ¢ncia, famÃ­lia, SO durante o perÃ­odo.

---

### ğŸ”¹ **Casos de uso**

âœ… AplicaÃ§Ãµes crÃ­ticas **24/7** (bancos de dados, servidores de produÃ§Ã£o).

âœ… Workloads previsÃ­veis e de longo prazo.

âœ… Empresas que buscam **economia estÃ¡vel** em infraestrutura.


### ğŸ”¹ **ComparaÃ§Ã£o rÃ¡pida com outros modelos**

- **On-Demand** â†’ FlexÃ­vel, paga pelo uso. (ğŸ’¸ mais caro por hora).
- **Reserved (RIs)** â†’ Barato, mas exige **compromisso de longo prazo**.
- **Spot** â†’ Muito barato, mas pode ser interrompido.

---

âœ¨ **Resumo:**

- **RIs = economia + previsibilidade.**
- Bom para **aplicaÃ§Ãµes que nÃ£o podem parar** e **rodam sempre**.



# InstÃ¢ncias Spot (Spot Instances)

### ğŸ”¹ **O que sÃ£o**

- SÃ£o instÃ¢ncias EC2 **ociosas** na AWS, disponibilizadas com **atÃ© 90% de desconto** em relaÃ§Ã£o ao preÃ§o sob demanda.
- VocÃª **â€œofertaâ€ um valor** ou aceita o preÃ§o spot atual e pode usar enquanto a instÃ¢ncia estiver disponÃ­vel.
- **A AWS pode encerrar a instÃ¢ncia a qualquer momento** se precisar da capacidade de volta.

---

### ğŸ”¹ **CaracterÃ­sticas principais**

- **Muito mais baratas** â†’ atÃ© 90% de economia.
- **NÃ£o garantem disponibilidade contÃ­nua** â†’ podem ser interrompidas com aviso prÃ©vio de 2 minutos.
- **Flexibilidade de uso** â†’ ideais para workloads que toleram interrupÃ§Ã£o.

---

### ğŸ”¹ **Casos de uso**

âœ… Processamento em lote.

âœ… Treinamento de **Machine Learning**.

âœ… SimulaÃ§Ãµes cientÃ­ficas e big data.

âœ… RenderizaÃ§Ã£o de imagens/vÃ­deos.

âœ… AplicaÃ§Ãµes tolerantes a falhas.

âŒ **NÃ£o indicado** para:

- Bancos de dados de produÃ§Ã£o.
- AplicaÃ§Ãµes crÃ­ticas que nÃ£o podem parar.

---

### ğŸ”¹ **ComparaÃ§Ã£o rÃ¡pida**

- **On-Demand** â†’ FlexÃ­vel, paga pelo uso (mais caro).
- **Reserved (RIs)** â†’ Compromisso de 1 a 3 anos, mais barato.
- **Spot** â†’ Muito barato, mas pode ser **interrompido a qualquer momento**.

---

âœ¨ **Resumo:**

- **Spot = economia mÃ¡xima ğŸ’°, mas sem garantia de continuidade.**